<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Hello File Upload</h1>

    <section>API for upload:
        <select name="postPath" id="postPath">
            <option value="normal">normal</option>
            <option value="streaming">streaming</option>
        </select>
    </section>

    <section>
        <form method="POST" enctype="multipart/form-data" action="/normal">
            <p>File to upload 1: <input type="file" name="uploadFile"/></p>
            <p>File to upload 2: <input type="file" name="uploadFile"/></p>
            <p>File to upload 3: <input type="file" name="uploadFile"/></p>
            <p>Some data: <input type="text" name="textData" value="Hello!" maxlength="100"/></p>
            <p><input type="submit" value="upload"/></p>
        </form>
    </section>

    <script>
            const $postPath = document.querySelector('#postPath');
            const changeActionPath = () => {
                const path = $postPath.options[$postPath.selectedIndex];
                document.forms[0].action = `/${path.value}`;
            };
            $postPath.addEventListener('change', changeActionPath);
            window.addEventListener('load', changeActionPath);

    </script>

</body>
</html>
